<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>四.文件与磁盘 | Taoblog</title><meta name="keywords" content="categories-java"><meta name="author" content="廖涛"><meta name="copyright" content="廖涛"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="摘要： 文件与磁盘">
<meta property="og:type" content="article">
<meta property="og:title" content="四.文件与磁盘">
<meta property="og:url" content="http://taoblog421.cn/article/e6df91e.html">
<meta property="og:site_name" content="Taoblog">
<meta property="og:description" content="摘要： 文件与磁盘">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://edu-cubeonline.oss-cn-chengdu.aliyuncs.com/8338e032aa164b37a69adee487bf10a81.jpg">
<meta property="article:published_time" content="2020-09-04T08:23:44.000Z">
<meta property="article:modified_time" content="2022-03-19T08:54:22.494Z">
<meta property="article:author" content="廖涛">
<meta property="article:tag" content="操作系统">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://edu-cubeonline.oss-cn-chengdu.aliyuncs.com/8338e032aa164b37a69adee487bf10a81.jpg"><link rel="shortcut icon" href="https://edu-cubeonline.oss-cn-chengdu.aliyuncs.com/456a1d060f1442f8bf1921de16285b7c22.png"><link rel="canonical" href="http://taoblog421.cn/article/e6df91e"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?1cd7f0388005bdbb53d2ff9b9a1a295a";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 廖涛","link":"链接: ","source":"来源: Taoblog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '四.文件与磁盘',
  isPost: true,
  isHome: false,
  isHighlightShrink: undefined,
  isToc: true,
  postUpdate: '2022-03-19 16:54:22'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://at.alicdn.com/t/font_3258369_333fi1pi48t.css"><meta name="generator" content="Hexo 6.1.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/05/TatLkECB7mx1ZGd.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">100</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">13</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">16</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw iconfont icon-wenzhang"></i><span> 文章:</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-guidang"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-biaoqian"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-fenlei"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw iconfont icon-liuyanban-05"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw iconfont icon-lianjie"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-guanyuwomen"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://edu-cubeonline.oss-cn-chengdu.aliyuncs.com/8338e032aa164b37a69adee487bf10a81.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Taoblog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw iconfont icon-wenzhang"></i><span> 文章:</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw iconfont icon-guidang"></i><span> 归档</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw iconfont icon-biaoqian"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw iconfont icon-fenlei"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw iconfont icon-liuyanban-05"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw iconfont icon-lianjie"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw iconfont icon-guanyuwomen"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">四.文件与磁盘</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-04T08:23:44.000Z" title="发表于 2020-09-04 16:23:44">2020-09-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-03-19T08:54:22.494Z" title="更新于 2022-03-19 16:54:22">2022-03-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%AC%94%E8%AE%B0/">笔记</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%AC%94%E8%AE%B0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">计算机基础</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">4.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>14分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="四.文件与磁盘"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/article/e6df91e.html#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/article/e6df91e.html" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>
<p>摘要：</p>
<p>文件与磁盘</p>
</blockquote>
<span id="more"></span>

<h2 id="四-文件与磁盘"><a href="#四-文件与磁盘" class="headerlink" title="四.文件与磁盘"></a>四.文件与磁盘</h2><h3 id="4-1-1-初识文件管理"><a href="#4-1-1-初识文件管理" class="headerlink" title="4.1_1 初识文件管理"></a>4.1_1 初识文件管理</h3><h5 id="（1）文件属性"><a href="#（1）文件属性" class="headerlink" title="（1）文件属性"></a>（1）文件属性</h5><p>文件：一组有意义的信息的集合</p>
<p>一个文件有哪些属性？ </p>
<p><strong>文件名：</strong>由创建文件的用户决定文件名，主要是为了方便用户找到文件 </p>
<p><strong>标识符</strong>：一个系统内的各文件标识符唯一，对用户来说毫无可读性，因此标识符只能是操作系统用于区分各个文件还能的一种内部名称 </p>
<p><strong>类型：</strong>指明文件的类型 位置：文件的存放路径（让用户使用），在外存中的地址（操作系统使用，对用户不可见） </p>
<p><strong>大小：</strong>指明文件的大小 </p>
<p><strong>创建时间</strong>，<strong>上次修改时间</strong>，<strong>文件所有者信息</strong> <strong>保护信</strong>息：对文件进行保护的访问控制信息</p>
<h5 id="（2）文件内部的数据应该怎样组织起来"><a href="#（2）文件内部的数据应该怎样组织起来" class="headerlink" title="（2）文件内部的数据应该怎样组织起来"></a>（2）文件内部的数据应该怎样组织起来</h5><p><img src="https://i.loli.net/2020/09/02/36SsperAQ4WqElw.png" alt="image-20200902164301728"></p>
<h5 id="（3）文件之间应该怎样组织起来"><a href="#（3）文件之间应该怎样组织起来" class="headerlink" title="（3）文件之间应该怎样组织起来"></a>（3）文件之间应该怎样组织起来</h5><p><img src="https://i.loli.net/2020/09/02/rkitC3Rj57ZBJfa.png" alt="image-20200902164629916"></p>
<h5 id="（4）操作系统应该向上提供哪些功能？"><a href="#（4）操作系统应该向上提供哪些功能？" class="headerlink" title="（4）操作系统应该向上提供哪些功能？"></a>（4）操作系统应该向上提供哪些功能？</h5><p>操作系统向上提供的几个最基本的功能</p>
<ul>
<li>创建文件（create系统调用）</li>
<li>删除文件（delete系统调用）</li>
<li>读文件（read系统调用）</li>
<li>写文件（write系统调用）</li>
<li>打开文件（open系统调用）</li>
<li>关闭文件（close系统调用）</li>
</ul>
<h5 id="（5）从上往下看，文件应该如何存放在外存"><a href="#（5）从上往下看，文件应该如何存放在外存" class="headerlink" title="（5）从上往下看，文件应该如何存放在外存"></a>（5）从上往下看，文件应该如何存放在外存</h5><p><img src="https://i.loli.net/2020/09/02/rsAbuneHRD3aQg6.png" alt="image-20200902165715687"></p>
<h5 id="（6）其他需要由操作系统实现的文件管理功能"><a href="#（6）其他需要由操作系统实现的文件管理功能" class="headerlink" title="（6）其他需要由操作系统实现的文件管理功能"></a>（6）其他需要由操作系统实现的文件管理功能</h5><p>文件共享：使多个用户可以共享的使用一个文件 文件保护：如何保证不同用户对文件有不同的访问权限</p>
<h3 id="4-1-2-文件的逻辑结构"><a href="#4-1-2-文件的逻辑结构" class="headerlink" title="4.1_2 文件的逻辑结构"></a>4.1_2 文件的逻辑结构</h3><h5 id="（1）有结构文件"><a href="#（1）有结构文件" class="headerlink" title="（1）有结构文件"></a>（1）有结构文件</h5><p>按文件是否有结构分类，可以分为无结构文件，有结构文件两种。 <strong>无结构文件</strong>：文件内部的数据就是一系列二进制流或字符流组成，又称为“流式文件”。如windows操作系统中的.txt文件 <strong>有结构文件</strong>：由一组相似的记录组成，又称“<strong>记录式文件</strong>”。每条记录由若干个数据项组成;如数据库表文件。一般来说，每条记录有一个数据项可以作为<strong>关键字</strong>。根据各条记录的长度（占用的内存空间）是否相等，又可以分为<strong>定长记录</strong>和<strong>可变长记录</strong>两种。</p>
<h5 id="（2）顺序文件"><a href="#（2）顺序文件" class="headerlink" title="（2）顺序文件"></a>（2）顺序文件</h5><p>顺序文件：文件中的记录一个接一个的顺序排列（逻辑上），记录可以是定长的或可变长得，各个记录在物理上可以顺序存储或者链式存储 顺序文件按照顺序与关键字是否有关又可以分为</p>
<ul>
<li>串结构 记录之间的顺序与关键字无关</li>
<li>顺序结构 记录之间的顺序与关键字有关</li>
</ul>
<p>一般来说，<strong>考试题目中所说的“顺序文件”指的都是顺序存储的顺序文件</strong>，缺点是增加&#x2F;删除一个记录比较困难 <strong>随机存取</strong>的实现：可变长记录不能实现而定长记录可以实现 <strong>快速检索</strong>的实现：顺序结构可以实现（二分查找），串结构不能实现</p>
<h5 id="（3）索引文件"><a href="#（3）索引文件" class="headerlink" title="（3）索引文件"></a>（3）索引文件</h5><p>对于可变长记录的文件，要找到第i个记录，必须先顺序查找第i-1个记录，但是对于很多场景又必须使用可变长记录，如何解决这个问题？ <img src="https://i.loli.net/2020/09/02/e2BdjpHJFbf5kGs.png" alt="image-20200902172907334"></p>
<h5 id="（4）索引顺序文件"><a href="#（4）索引顺序文件" class="headerlink" title="（4）索引顺序文件"></a>（4）索引顺序文件</h5><p>每个记录对应一个索引表项，因此索引表可能会很大。比如：文件的每个记录平均只占8B，而每个索引表项占32个字节，那么索引表都要比文件本身的内容大8倍，这样对存储空间的利用率很低 <img src="https://i.loli.net/2020/09/02/VZawY5DRHsp1QET.png" alt="image-20200902173411039"> 若一个顺序文件有10000个记录，则根据关键字检索文件，只能从头开始开始顺序查找，需平均查找5000个记录 若采用索引顺序文件结构，可以把10000个记录分为100组，每组100个数据，先查找分组，需要平均查找50次，找到分组再查找目标文件，平均查找50次，平均次数减少为 50 + 50 &#x3D; 100次 文件数目再多时可以采用多级索引顺序文件</p>
<h3 id="4-1-3-文件目录"><a href="#4-1-3-文件目录" class="headerlink" title="4.1_3 文件目录"></a>4.1_3 文件目录</h3><h5 id="（1）文件控制块-FCB"><a href="#（1）文件控制块-FCB" class="headerlink" title="（1）文件控制块(FCB)"></a>（1）文件控制块(FCB)</h5><p><img src="https://i.loli.net/2020/09/03/iDcolBZ7pJnbI8Y.png" alt="image-20200903100807404"> FCB的有序集合称为“文件目录”，一个FCB就是一个文件目录项。 FCB中包含了文件的基本信息（文件名、物理地址、逻辑结构、物理结构等），存取控制信息（是否可读&#x2F;可写、禁止访问的用户名单等），使用信息（如文件的建立时间、修改时间等）。最重要，最基本的还是文件名、文件存放的物理地址。</p>
<h5 id="（2）目录结构–单级目录结构"><a href="#（2）目录结构–单级目录结构" class="headerlink" title="（2）目录结构–单级目录结构"></a>（2）目录结构–单级目录结构</h5><p>早期的操作系统并不支持多级目录，整个系统中只建立一张目录表，每个文件占一个目录项 <img src="https://i.loli.net/2020/09/03/ceaWX1AnBTx4M2u.png" alt="image-20200903101852986"></p>
<h5 id="（2）目录结构–两级目录结构"><a href="#（2）目录结构–两级目录结构" class="headerlink" title="（2）目录结构–两级目录结构"></a>（2）目录结构–两级目录结构</h5><p>早期的多用户操作系统，采用两级目录结构。分为<strong>主文件目录</strong>（MFD,Master File Dictory）和<strong>用户文件目录</strong>(UFD，User File Dictory) <img src="https://i.loli.net/2020/09/03/SuyYIs9Ovd1Jrbk.png" alt="image-20200903102523715"></p>
<h5 id="（3）目录结构–多级目录结构（树形目录结构）"><a href="#（3）目录结构–多级目录结构（树形目录结构）" class="headerlink" title="（3）目录结构–多级目录结构（树形目录结构）"></a>（3）目录结构–多级目录结构（树形目录结构）</h5><p><img src="https://i.loli.net/2020/09/03/Oe5qol2wcUWFK9L.png" alt="image-20200903102814153"> 当用户想访问某个文件，可以使用当前目录出发的“相对路径” 引入当前目录和相对路径后，减少了磁盘i&#x2F;o此次数，提高系统的效率 树形目录结构可以方便的对文件进程分类，层次结构清晰，也能够有效的对文件进行管理和保护，但是，树形结构不便于实现文件的共享。为此，提出了“无环图目录结构”</p>
<h5 id="（4）目录结构–无环图目录结构"><a href="#（4）目录结构–无环图目录结构" class="headerlink" title="（4）目录结构–无环图目录结构"></a>（4）目录结构–无环图目录结构</h5><p><img src="https://i.loli.net/2020/09/03/QvIkhKxTLygVBsA.png" alt="image-20200903103442794"></p>
<h5 id="（5）索引结点（FCB的改进）"><a href="#（5）索引结点（FCB的改进）" class="headerlink" title="（5）索引结点（FCB的改进）"></a>（5）索引结点（FCB的改进）</h5><p><img src="https://i.loli.net/2020/09/03/VqL4iCvQltJRmD9.png"> 存放在外存中的索引结点称为“磁盘索引结点”，当索引结点放入内存后称为“内存索引结点”。相比之下内存索引结点中需要增加一些信息，比如：文件是否被修改，此时有几个进程正在访问该文件等</p>
<h3 id="4-1-4-文件的物理结构（文件分配方式-上）"><a href="#4-1-4-文件的物理结构（文件分配方式-上）" class="headerlink" title="4.1_4 文件的物理结构（文件分配方式 上）"></a>4.1_4 文件的物理结构（文件分配方式 上）</h3><p>文件数据应该怎样存放在外存中？</p>
<h5 id="（1）文件块，磁盘块"><a href="#（1）文件块，磁盘块" class="headerlink" title="（1）文件块，磁盘块"></a>（1）文件块，磁盘块</h5><p>类似于内存分页，磁盘中的存储单元也会被分成一个个“块&#x2F;磁盘块&#x2F;物理块”。很多操作系统中，<strong>磁盘块的大小与内存块，页面的大小相同</strong> 文件的逻辑地址空间也被分为一个一个的文件“块” 于是文件的逻辑地址也可以表示为（逻辑块号，块内地址）的形式</p>
<h5 id="（2）文件分配方式——连续分配"><a href="#（2）文件分配方式——连续分配" class="headerlink" title="（2）文件分配方式——连续分配"></a>（2）文件分配方式——连续分配</h5><p><strong>连续分配</strong>方式要求<strong>每个文件在磁盘上占有一组连续的块</strong> 文件目录中记录存放的起始块号和长度（总共占用了几个块） <img src="https://i.loli.net/2020/09/03/iIVhmCxJD2WkHqc.png" alt="image-20200903105552647"> 读取某个磁盘块时，需要移动磁头。访问的两个磁盘块相隔越远，移动磁头所需的时间就越长 结论：<strong>连续分配的文件在顺序读&#x2F;写时速度最快</strong> 缺点： 物理上采用<strong>连续分配的文件不方便拓展</strong> 存储空间利用率低，会产生难以利用的<strong>磁盘碎片</strong> 。可以利用紧凑来处理碎片，但是要耗费很大的时间代价</p>
<h5 id="（3）文件分配方式——链接分配"><a href="#（3）文件分配方式——链接分配" class="headerlink" title="（3）文件分配方式——链接分配"></a>（3）文件分配方式——链接分配</h5><p><strong>链接分配</strong>采取离散分配的方式，可以为文件分配离散的磁盘块。分为<strong>显式链接</strong>和<strong>隐式链接</strong>两种 <strong>隐式链接</strong> 目录中记录了文件存放的起始块号和结束块号 采用链式分配（隐式链接）方式的文件，只支持顺序访问，不支持随机访问，查找效率低。另外，指向下一个盘块的指针也需要耗费少量的存储空间。 优点：很方便拓展文件，不会有碎片，外存利用率高 缺点：只能顺序访问，不支持随机访问，查找效率低，指向下一个磁盘块的指针也要耗费少量的存储空间 <strong>显式链接</strong> 把用于链接各物理块的指针显示的存放在一张表中，即文件分配表 <img src="https://i.loli.net/2020/09/03/7KDQqavCdJi6ZI5.png" alt="image-20200903111525754"> 注意：一个磁盘仅设置一张FAT。开机时，将FAT存入内存，并且常驻内存。（物理块号字段隐含） 逻辑地址到物理地址的转换 <img src="https://i.loli.net/2020/09/03/leW2qAQ5XRyiE3w.png" alt="image-20200903112112709"> 优点：很方便拓展，不会有碎片问题，外存利用率高，支持随机访问。相比隐式链接来说，地址转换不需要访问磁盘，文件的访问效率更高 缺点：FAT表需要占用一定的内存空间 <strong>注意：考试题目中未声明显式&#x2F;隐式的“链接分配”默认是隐式链接</strong></p>
<h3 id="4-1-5-文件的物理结构（文件分配方式-下）"><a href="#4-1-5-文件的物理结构（文件分配方式-下）" class="headerlink" title="4.1_5 文件的物理结构（文件分配方式 下）"></a><strong>4.1_5</strong> 文件的物理结构（文件分配方式 下）</h3><h5 id="（1）文件分配管理——索引分配"><a href="#（1）文件分配管理——索引分配" class="headerlink" title="（1）文件分配管理——索引分配"></a>（1）文件分配管理——索引分配</h5><p><strong>索引分配</strong>允许文件离散地分配在各个磁盘块中，系统会<strong>为每个文件建立一张索引表</strong>，索引表中<strong>记录了文</strong> <strong>件的各个逻辑块对应的物理块</strong>（索引表的功能类似于内存管理中的页表—―建立逻辑页面到物理页之间 的映射关系)。索引表存放的磁盘块称为<strong>索引块</strong>。文件数据存放的磁盘块称为<strong>数据块</strong>. <img src="https://i.loli.net/2020/09/03/Axb793EfQ1hC8lq.png" alt="image-20200903215635254"> 索引分配可以支持随机访问，文件拓展也很容易实现（只需给文件分配一个空闲块，增加一个索引表项即可） 但是索引表需要占用一定的存储空间</p>
<h5 id="（2）索引表太大的解决方案"><a href="#（2）索引表太大的解决方案" class="headerlink" title="（2）索引表太大的解决方案"></a>（2）索引表太大的解决方案</h5><p><strong>链接方案</strong>：如果索引表太大，一个索引块装不下，那么可以将多个索引块链接起来存放。 缺点：如果文件很大，会导致索引表很长，由于不能随机存取，导致查找效率低下 <strong>多层索引</strong>：建立多层索引（类似于多级页表）。使第一层的索引块指向第二层的索引块，还可以根据文件的大小建立第三层，第四层…. 缺点：对小文件的访问任然需要多次的I&#x2F;O操作 <strong>混合索引</strong>：多种索引分配方式相结合。例如，一个文件的顶级索引表中，既包含<strong>直接地址索引</strong>（直接指向数据块），又包含<strong>一级间接索引</strong>（指向单层索引表），还包含<strong>两级间接索引</strong>（指向两层索引表） <strong>超级超级超级重要的考点</strong>：</p>
<ol>
<li>要会根据多层索引，混合索引的结构计算出文件的最大长度（key:各级索引表最大不能超过一个块）</li>
<li>要能分析访问某个数据块所需要读磁盘的次数（key:FCB中会存有指向顶级索引块的指针，因此根据FCB可以读入顶级索引块，每次读入下一级的索引块都要进行一次磁盘操作，另外要注意题目条件——顶级索引块是否已经调入内存）</li>
</ol>
<h3 id="4-1-6-文件存储空间管理"><a href="#4-1-6-文件存储空间管理" class="headerlink" title="4.1_6 文件存储空间管理"></a>4.1_6 文件存储空间管理</h3><h5 id="（1）存储空间的划分和初始化"><a href="#（1）存储空间的划分和初始化" class="headerlink" title="（1）存储空间的划分和初始化"></a>（1）存储空间的划分和初始化</h5><p>按照windows操作系统的时候，一个必经的步骤是——为磁盘分区（C：盘,D:盘,E:盘） 存储空间的划分：将物理磁盘划分成一个一个的<strong>文件卷</strong>（逻辑卷，逻辑盘） <strong>目录区</strong>：主要存放文件目录信息（PCB）和磁盘存储空间管理的信息 <strong>文件区</strong>：存放文件数据</p>
<h5 id="（2）存储空间管理——空闲表法"><a href="#（2）存储空间管理——空闲表法" class="headerlink" title="（2）存储空间管理——空闲表法"></a>（2）存储空间管理——空闲表法</h5><p>适用于“连续分配方式” <img src="https://i.loli.net/2020/09/04/Uok5jiH6erpCBc8.png" alt="image-20200904091741314"></p>
<h5 id="（3）存储空间管理——空闲链表法"><a href="#（3）存储空间管理——空闲链表法" class="headerlink" title="（3）存储空间管理——空闲链表法"></a>（3）存储空间管理——空闲链表法</h5><p>空闲盘块链适用于离散分配结构 空闲盘区链适用于离散&#x2F;连续分配结构 <img src="https://i.loli.net/2020/09/04/94ZjHAC1r5dpQRK.png" alt="image-20200904092058825"></p>
<h5 id="（4）存储空间管理——位示图法"><a href="#（4）存储空间管理——位示图法" class="headerlink" title="（4）存储空间管理——位示图法"></a>（4）存储空间管理——位示图法</h5><p>连续&#x2F;离散分配都适用 <img src="https://i.loli.net/2020/09/04/t3R72OYSuUEDzGs.png" alt="image-20200904092715258"></p>
<h5 id="（5）成组链接法"><a href="#（5）成组链接法" class="headerlink" title="（5）成组链接法"></a>（5）成组链接法</h5><p>空闲表，空闲链表法不适用于大型文件系统，因为空闲表或空闲链表可能很大,uinx操作系统中采用了成组链接法对磁盘空闲块进行管理 文件卷的目录区专门有一个磁盘块作为“超级块”，当系统启动时将超级块读入内存。并且要保证内存与外存中的“超级块”数据一致 <img src="https://i.loli.net/2020/09/04/QcKmb1o8ANdDjt2.png" alt="image-20200904093544108"></p>
<h3 id="4-1-7-文件的基本操作"><a href="#4-1-7-文件的基本操作" class="headerlink" title="4.1_7 文件的基本操作"></a>4.1_7 文件的基本操作</h3><h5 id="（1）-创建文件"><a href="#（1）-创建文件" class="headerlink" title="（1） 创建文件"></a>（1） 创建文件</h5><p><img src="https://i.loli.net/2020/09/04/FWIHyrpfJ3Znivm.png" alt="image-20200904094654797"></p>
<h5 id="（2）删除文件"><a href="#（2）删除文件" class="headerlink" title="（2）删除文件"></a>（2）删除文件</h5><p><img src="https://i.loli.net/2020/09/04/m7Osj1UbrdezQEi.png" alt="image-20200904094842816"></p>
<h5 id="（3）打开文件"><a href="#（3）打开文件" class="headerlink" title="（3）打开文件"></a>（3）打开文件</h5><p><img src="https://i.loli.net/2020/09/04/FsRGWIn7ZON2YSa.png" alt="image-20200904095118188"> <img src="https://i.loli.net/2020/09/04/WMjFnyt4ad6kmsP.png" alt="image-20200904095315407"></p>
<h5 id="（4）关闭文件"><a href="#（4）关闭文件" class="headerlink" title="（4）关闭文件"></a>（4）关闭文件</h5><p><img src="https://i.loli.net/2020/09/04/dSqNcYj4VZnyuhr.png" alt="image-20200904095545810"></p>
<h5 id="（5）读文件"><a href="#（5）读文件" class="headerlink" title="（5）读文件"></a>（5）读文件</h5><p><img src="https://i.loli.net/2020/09/04/LPR8EZvqXSyUdjI.png" alt="image-20200904095759870"></p>
<h5 id="（6）写文件"><a href="#（6）写文件" class="headerlink" title="（6）写文件"></a>（6）写文件</h5><p><img src="https://i.loli.net/2020/09/04/zlyhIadC2O8qMvA.png" alt="image-20200904095956756"></p>
<h3 id="4-1-8-文件共享"><a href="#4-1-8-文件共享" class="headerlink" title="4.1_8 文件共享"></a>4.1_8 文件共享</h3><p>注意：多个用户共享同一个文件，意味着系统中只有一份文件（注意与复制的区别）</p>
<h5 id="（1）基于索引结点的共享方式（硬链接）"><a href="#（1）基于索引结点的共享方式（硬链接）" class="headerlink" title="（1）基于索引结点的共享方式（硬链接）"></a>（1）基于索引结点的共享方式（硬链接）</h5><p><img src="https://i.loli.net/2020/09/04/VeHoTKj6vLXO4SW.png" alt="image-20200904100651198"></p>
<h5 id="（2）基于符号链的共享方式（软链接）"><a href="#（2）基于符号链的共享方式（软链接）" class="headerlink" title="（2）基于符号链的共享方式（软链接）"></a>（2）基于符号链的共享方式（软链接）</h5><p><img src="https://i.loli.net/2020/09/04/LPogt9aUsRfxF6w.png" alt="image-20200904100939326"></p>
<h3 id="4-1-9-文件保护"><a href="#4-1-9-文件保护" class="headerlink" title="4.1_9 文件保护"></a>4.1_9 文件保护</h3><h5 id="（1）口令保护"><a href="#（1）口令保护" class="headerlink" title="（1）口令保护"></a>（1）口令保护</h5><p>为文件设置一个口令，用户请求访问该文件时必须提供”口令“（口令存储在FCB或索引节点中） 优点：保存口令的开销空间不多，验证口令的时间开销也很少 群点：正确口令存放在系统内部，不顾安全</p>
<h5 id="（2）加密保护"><a href="#（2）加密保护" class="headerlink" title="（2）加密保护"></a>（2）加密保护</h5><p>使用某个“密码”对文件进行加密，在访问文件时需要提供正确的“密码”才能对文件进行正确的解密 eg:异或加密 优单：保密性强，不需要在系统中存储密码 缺点：编码&#x2F;译码或者说加密&#x2F;解密要花费一定的时间</p>
<h5 id="（3）访问控制"><a href="#（3）访问控制" class="headerlink" title="（3）访问控制"></a>（3）访问控制</h5><p>在每个文件的FCB(或索引节点)增加一个访问控制表，该表记录了各个用户可以对文件执行哪些操作 <img src="https://i.loli.net/2020/09/04/hgOw5D8NBIS76zr.png" alt="image-20200904102232133"> 精简的访问列表：一个系统的用户很多时，对用户进行分组 如：系统管理员，文件主，文件主的伙伴…… 优点：实现灵活，可以实现复杂的文件保护功能</p>
<h3 id="4-1-10-文件系统的层级结构"><a href="#4-1-10-文件系统的层级结构" class="headerlink" title="4.1_10 文件系统的层级结构"></a>4.1_10 文件系统的层级结构</h3><p><img src="https://i.loli.net/2020/09/04/A2uaW7IlPpo9JUG.png" alt="image-20200904103452518"> 例子辅助记忆：假设某用户请求删除“D&#x2F;学生信息.xlsx”的最后100条记录 <img src="https://i.loli.net/2020/09/04/JxLWcnwv2zTR8Is.png" alt="image-20200904103838676"></p>
<h3 id="4-2-1-磁盘的结构"><a href="#4-2-1-磁盘的结构" class="headerlink" title="4.2_1 磁盘的结构"></a>4.2_1 磁盘的结构</h3><h5 id="（1）磁盘，磁道，扇区"><a href="#（1）磁盘，磁道，扇区" class="headerlink" title="（1）磁盘，磁道，扇区"></a>（1）磁盘，磁道，扇区</h5><p><img src="https://i.loli.net/2020/09/04/563Cq4gVynMrKUs.png" alt="image-20200904105605078"></p>
<h5 id="（2）如何在磁盘中读-x2F-写数据"><a href="#（2）如何在磁盘中读-x2F-写数据" class="headerlink" title="（2）如何在磁盘中读&#x2F;写数据"></a>（2）如何在磁盘中读&#x2F;写数据</h5><p>需要把“磁头”移动到想要读&#x2F;写的扇区所在的磁道，磁盘会转起来，让目标扇区从磁头下面划过，才能完成对扇区的读&#x2F;写操作</p>
<h5 id="（3）盘面，柱面"><a href="#（3）盘面，柱面" class="headerlink" title="（3）盘面，柱面"></a>（3）盘面，柱面</h5><p><img src="https://i.loli.net/2020/09/04/vC6cElysRXpDYMA.png" alt="image-20200904110115393"> <strong>磁盘的物理地址 （柱面号，盘面号，扇区号）</strong></p>
<h5 id="（4）磁盘的分类"><a href="#（4）磁盘的分类" class="headerlink" title="（4）磁盘的分类"></a>（4）磁盘的分类</h5><p>按磁头是否可以移动：移动头磁盘，固定头磁盘 盘片是否可以更换：固定盘磁盘，可换盘磁盘</p>
<h3 id="4-2-2-磁盘调度算法"><a href="#4-2-2-磁盘调度算法" class="headerlink" title="4.2_2 磁盘调度算法"></a>4.2_2 磁盘调度算法</h3><h5 id="（1）一次磁盘读-x2F-写操作需要的时间"><a href="#（1）一次磁盘读-x2F-写操作需要的时间" class="headerlink" title="（1）一次磁盘读&#x2F;写操作需要的时间"></a>（1）一次磁盘读&#x2F;写操作需要的时间</h5><p>**寻找时间（寻道时间）T(s)**：(s为下标，并非括号)在读&#x2F;写数据前，将磁头移动到指定磁道所花的时间 ① <strong>启动磁头臂</strong>需要的时间 假设耗时为 s ② <strong>移动磁头</strong>也是需要时间的，假设磁头均匀移动，每跨过一个磁道耗时为m，总共需要跨越n条磁道 寻道时间 T(s) &#x3D; s + m * n **延迟时间T(R)**：通过旋转磁盘，使磁头定位到目标扇区所需的时间。设磁盘转速为r(单位：转&#x2F;秒)则平均所需要的延迟时间 T(R) &#x3D; (1&#x2F;2) * (1&#x2F;r) &#x3D; 1&#x2F;2r **传输时间T(t)**：从磁盘读出或向磁盘写入数据所经历的时间，假设磁盘转速为r，此时读&#x2F;写的字节数为b,每个磁道上的字节为N。则传输时间 T(t) &#x3D; (1&#x2F;r)*(b&#x2F;n) &#x3D; b&#x2F;(rN)</p>
<h5 id="（2）先来先服务算法（FCFS）"><a href="#（2）先来先服务算法（FCFS）" class="headerlink" title="（2）先来先服务算法（FCFS）"></a>（2）先来先服务算法（FCFS）</h5><p>根据进程请求访问磁盘的先后顺序进行调度 <img src="https://i.loli.net/2020/09/08/wDqEGckp5uW9vHe.png" alt="image-20200904111943459"></p>
<h5 id="（3）最短寻找时间优先（SSTF）"><a href="#（3）最短寻找时间优先（SSTF）" class="headerlink" title="（3）最短寻找时间优先（SSTF）"></a>（3）最短寻找时间优先（SSTF）</h5><p>SSTF算法会优先处理的磁道是与当前磁头最近的磁道。可以保证每次的寻道时间最短，但不能保证总的寻道时间最短（贪心算法思想，只选择眼前最优，但是总体未必最优） <img src="https://i.loli.net/2020/09/04/MdURWJCOciSr4Fq.png" alt="image-20200904135914671"></p>
<h5 id="（4）扫描算法（SCAN）"><a href="#（4）扫描算法（SCAN）" class="headerlink" title="（4）扫描算法（SCAN）"></a>（4）扫描算法（SCAN）</h5><p>SSTF算法会产生饥饿的原因在于:磁头有可能在一个小区域内来回来去地移动。为了防止这个问题， 可以规定，只有<strong>磁头移动到最外侧磁道的时候才能往内移动</strong>，<strong>移动到最内侧磁道的时候才能往外移</strong> <strong>动</strong>。这就是<strong>扫描算法（SCAN）</strong>的思想。由于磁头移动的方式很像电梯，因此也叫<strong>电梯算法</strong>。 <img src="https://i.loli.net/2020/09/04/X8oUjhPVkCElWfT.png" alt="image-20200904140425773"></p>
<h5 id="（5）LOOK-调度算法"><a href="#（5）LOOK-调度算法" class="headerlink" title="（5）LOOK 调度算法"></a>（5）LOOK 调度算法</h5><p>扫描算法（SCAN）中，只有到达最边上的磁道时才能改变磁头移动方向，事实上，处理了184号磁 道的访问请求之后就不需要再往右移动磁头了。LOOK调度算法就是为了解决这个问题，<strong>如果在磁</strong> <strong>头移动方向上已经没有别的请求，就可以立即改变磁头移动方向</strong>。(边移动边观察，因此叫LOOK) <img src="https://i.loli.net/2020/09/04/bdhyTAi62a7U3uG.png" alt="image-20200904140558121"></p>
<h5 id="（6）循环扫描算法（C-SCAN）"><a href="#（6）循环扫描算法（C-SCAN）" class="headerlink" title="（6）循环扫描算法（C-SCAN）"></a>（6）循环扫描算法（C-SCAN）</h5><p>SCAN算法对于各个位置磁道的响应频率不平均，而<strong>C-SCAN</strong>算法就是为了解决这个问题。规定只有 磁头朝某个特定方向移动时才处理磁道访问请求，而<strong>返回时直接快速移动至起始端而不处理任何请</strong> <strong>求。</strong> <img src="https://i.loli.net/2020/09/04/NRpsyZIumA3EGbV.png" alt="image-20200904140926271"></p>
<h5 id="（7）C-LOOK-算法"><a href="#（7）C-LOOK-算法" class="headerlink" title="（7）C-LOOK 算法"></a>（7）C-LOOK 算法</h5><p>C-SCAN算法的主要缺点是只有到达最边上的磁道时才能改变磁头移动方向，并且磁头返回时不一定 需要返回到最边缘的磁道上。C-LOOK算法就是为了解决这个问题。如果磁头移动的方向上已经没有 磁道访问请求了，就可以立即让磁头返回，并且磁头只需要返回到有磁道访问请求的位置即可。</p>
<h3 id="4-2-3-减少延迟时间的方法"><a href="#4-2-3-减少延迟时间的方法" class="headerlink" title="4.2_3 减少延迟时间的方法"></a>4.2_3 减少延迟时间的方法</h3><p><img src="https://i.loli.net/2020/09/04/scK4f7knrxNQAjI.png" alt="image-20200904141542819"></p>
<h5 id="（1）减少延迟时间的方法：交替编号"><a href="#（1）减少延迟时间的方法：交替编号" class="headerlink" title="（1）减少延迟时间的方法：交替编号"></a>（1）减少延迟时间的方法：交替编号</h5><p>让逻辑上相邻的扇区在物理上有一定的间隔，可以使读取连续的逻辑扇区所需要的延迟时间更少</p>
<h5 id="（2）磁盘地址结构设计"><a href="#（2）磁盘地址结构设计" class="headerlink" title="（2）磁盘地址结构设计"></a>（2）磁盘地址结构设计</h5><p>读取地址连续的磁盘块时，采用（柱面号，盘面号，扇区号）的地址结构可以减少磁头移动消耗的时间</p>
<h5 id="（3）减少延迟时间的方法：错位命名"><a href="#（3）减少延迟时间的方法：错位命名" class="headerlink" title="（3）减少延迟时间的方法：错位命名"></a>（3）减少延迟时间的方法：错位命名</h5><p><img src="https://i.loli.net/2020/09/04/5yMhUtZOnwjsv31.png" alt="image-20200904142841311"></p>
<h3 id="4-2-4-磁盘的管理"><a href="#4-2-4-磁盘的管理" class="headerlink" title="4.2_4 磁盘的管理"></a>4.2_4 磁盘的管理</h3><h5 id="（1）磁盘初始化"><a href="#（1）磁盘初始化" class="headerlink" title="（1）磁盘初始化"></a>（1）磁盘初始化</h5><p><img src="https://i.loli.net/2020/09/04/xndMuyCFl6pHbct.png" alt="image-20200904151035019"></p>
<h5 id="（2）引导块"><a href="#（2）引导块" class="headerlink" title="（2）引导块"></a>（2）引导块</h5><p><img src="https://i.loli.net/2020/09/08/d36EeD4alfoYAqF.png" alt="image-20200904153156103"></p>
<h5 id="（3）坏块的管理"><a href="#（3）坏块的管理" class="headerlink" title="（3）坏块的管理"></a>（3）坏块的管理</h5><p>简单磁盘：逻辑格式化时将坏块标记出来 复杂的磁盘：磁盘控制块维护一个坏块链，并管理备用扇区</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">廖涛</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://taoblog421.cn/article/e6df91e.html">http://taoblog421.cn/article/e6df91e.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://taoblog421.cn" target="_blank">Taoblog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></div><div class="post_share"><div class="social-share" data-image="https://edu-cubeonline.oss-cn-chengdu.aliyuncs.com/8338e032aa164b37a69adee487bf10a81.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/article/f9c0efcf.html"><img class="prev-cover" src="https://edu-cubeonline.oss-cn-chengdu.aliyuncs.com/8338e032aa164b37a69adee487bf10a81.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">五.I/O设备</div></div></a></div><div class="next-post pull-right"><a href="/article/1535395b.html"><img class="next-cover" src="https://edu-cubeonline.oss-cn-chengdu.aliyuncs.com/8338e032aa164b37a69adee487bf10a81.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">三.内存</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/article/1535395b.html" title="三.内存"><img class="cover" src="https://edu-cubeonline.oss-cn-chengdu.aliyuncs.com/8338e032aa164b37a69adee487bf10a81.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-03</div><div class="title">三.内存</div></div></a></div><div><a href="/article/7568c2fe.html" title="一.操作系统引论"><img class="cover" src="https://edu-cubeonline.oss-cn-chengdu.aliyuncs.com/8338e032aa164b37a69adee487bf10a81.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-02</div><div class="title">一.操作系统引论</div></div></a></div><div><a href="/article/8b5271f8.html" title="二.进程，处理机调度与死锁（一）"><img class="cover" src="https://edu-cubeonline.oss-cn-chengdu.aliyuncs.com/8338e032aa164b37a69adee487bf10a81.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-09-02</div><div class="title">二.进程，处理机调度与死锁（一）</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B-%E6%96%87%E4%BB%B6%E4%B8%8E%E7%A3%81%E7%9B%98"><span class="toc-text">四.文件与磁盘</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-1-%E5%88%9D%E8%AF%86%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86"><span class="toc-text">4.1_1 初识文件管理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7"><span class="toc-text">（1）文件属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E6%96%87%E4%BB%B6%E5%86%85%E9%83%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%94%E8%AF%A5%E6%80%8E%E6%A0%B7%E7%BB%84%E7%BB%87%E8%B5%B7%E6%9D%A5"><span class="toc-text">（2）文件内部的数据应该怎样组织起来</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E6%96%87%E4%BB%B6%E4%B9%8B%E9%97%B4%E5%BA%94%E8%AF%A5%E6%80%8E%E6%A0%B7%E7%BB%84%E7%BB%87%E8%B5%B7%E6%9D%A5"><span class="toc-text">（3）文件之间应该怎样组织起来</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%BA%94%E8%AF%A5%E5%90%91%E4%B8%8A%E6%8F%90%E4%BE%9B%E5%93%AA%E4%BA%9B%E5%8A%9F%E8%83%BD%EF%BC%9F"><span class="toc-text">（4）操作系统应该向上提供哪些功能？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E4%BB%8E%E4%B8%8A%E5%BE%80%E4%B8%8B%E7%9C%8B%EF%BC%8C%E6%96%87%E4%BB%B6%E5%BA%94%E8%AF%A5%E5%A6%82%E4%BD%95%E5%AD%98%E6%94%BE%E5%9C%A8%E5%A4%96%E5%AD%98"><span class="toc-text">（5）从上往下看，文件应该如何存放在外存</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%886%EF%BC%89%E5%85%B6%E4%BB%96%E9%9C%80%E8%A6%81%E7%94%B1%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0%E7%9A%84%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%8A%9F%E8%83%BD"><span class="toc-text">（6）其他需要由操作系统实现的文件管理功能</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-2-%E6%96%87%E4%BB%B6%E7%9A%84%E9%80%BB%E8%BE%91%E7%BB%93%E6%9E%84"><span class="toc-text">4.1_2 文件的逻辑结构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%9C%89%E7%BB%93%E6%9E%84%E6%96%87%E4%BB%B6"><span class="toc-text">（1）有结构文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E9%A1%BA%E5%BA%8F%E6%96%87%E4%BB%B6"><span class="toc-text">（2）顺序文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E7%B4%A2%E5%BC%95%E6%96%87%E4%BB%B6"><span class="toc-text">（3）索引文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E7%B4%A2%E5%BC%95%E9%A1%BA%E5%BA%8F%E6%96%87%E4%BB%B6"><span class="toc-text">（4）索引顺序文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-3-%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95"><span class="toc-text">4.1_3 文件目录</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%96%87%E4%BB%B6%E6%8E%A7%E5%88%B6%E5%9D%97-FCB"><span class="toc-text">（1）文件控制块(FCB)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E2%80%93%E5%8D%95%E7%BA%A7%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-text">（2）目录结构–单级目录结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E2%80%93%E4%B8%A4%E7%BA%A7%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-text">（2）目录结构–两级目录结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E2%80%93%E5%A4%9A%E7%BA%A7%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%EF%BC%88%E6%A0%91%E5%BD%A2%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%EF%BC%89"><span class="toc-text">（3）目录结构–多级目录结构（树形目录结构）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E2%80%93%E6%97%A0%E7%8E%AF%E5%9B%BE%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-text">（4）目录结构–无环图目录结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E7%B4%A2%E5%BC%95%E7%BB%93%E7%82%B9%EF%BC%88FCB%E7%9A%84%E6%94%B9%E8%BF%9B%EF%BC%89"><span class="toc-text">（5）索引结点（FCB的改进）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-4-%E6%96%87%E4%BB%B6%E7%9A%84%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84%EF%BC%88%E6%96%87%E4%BB%B6%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F-%E4%B8%8A%EF%BC%89"><span class="toc-text">4.1_4 文件的物理结构（文件分配方式 上）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%96%87%E4%BB%B6%E5%9D%97%EF%BC%8C%E7%A3%81%E7%9B%98%E5%9D%97"><span class="toc-text">（1）文件块，磁盘块</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E6%96%87%E4%BB%B6%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F%E2%80%94%E2%80%94%E8%BF%9E%E7%BB%AD%E5%88%86%E9%85%8D"><span class="toc-text">（2）文件分配方式——连续分配</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E6%96%87%E4%BB%B6%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F%E2%80%94%E2%80%94%E9%93%BE%E6%8E%A5%E5%88%86%E9%85%8D"><span class="toc-text">（3）文件分配方式——链接分配</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-5-%E6%96%87%E4%BB%B6%E7%9A%84%E7%89%A9%E7%90%86%E7%BB%93%E6%9E%84%EF%BC%88%E6%96%87%E4%BB%B6%E5%88%86%E9%85%8D%E6%96%B9%E5%BC%8F-%E4%B8%8B%EF%BC%89"><span class="toc-text">4.1_5 文件的物理结构（文件分配方式 下）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%96%87%E4%BB%B6%E5%88%86%E9%85%8D%E7%AE%A1%E7%90%86%E2%80%94%E2%80%94%E7%B4%A2%E5%BC%95%E5%88%86%E9%85%8D"><span class="toc-text">（1）文件分配管理——索引分配</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E7%B4%A2%E5%BC%95%E8%A1%A8%E5%A4%AA%E5%A4%A7%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-text">（2）索引表太大的解决方案</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-6-%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86"><span class="toc-text">4.1_6 文件存储空间管理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%9A%84%E5%88%92%E5%88%86%E5%92%8C%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">（1）存储空间的划分和初始化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86%E2%80%94%E2%80%94%E7%A9%BA%E9%97%B2%E8%A1%A8%E6%B3%95"><span class="toc-text">（2）存储空间管理——空闲表法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86%E2%80%94%E2%80%94%E7%A9%BA%E9%97%B2%E9%93%BE%E8%A1%A8%E6%B3%95"><span class="toc-text">（3）存储空间管理——空闲链表法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4%E7%AE%A1%E7%90%86%E2%80%94%E2%80%94%E4%BD%8D%E7%A4%BA%E5%9B%BE%E6%B3%95"><span class="toc-text">（4）存储空间管理——位示图法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E6%88%90%E7%BB%84%E9%93%BE%E6%8E%A5%E6%B3%95"><span class="toc-text">（5）成组链接法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-7-%E6%96%87%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-text">4.1_7 文件的基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%881%EF%BC%89-%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6"><span class="toc-text">（1） 创建文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="toc-text">（2）删除文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6"><span class="toc-text">（3）打开文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6"><span class="toc-text">（4）关闭文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%885%EF%BC%89%E8%AF%BB%E6%96%87%E4%BB%B6"><span class="toc-text">（5）读文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%886%EF%BC%89%E5%86%99%E6%96%87%E4%BB%B6"><span class="toc-text">（6）写文件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-8-%E6%96%87%E4%BB%B6%E5%85%B1%E4%BA%AB"><span class="toc-text">4.1_8 文件共享</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%9F%BA%E4%BA%8E%E7%B4%A2%E5%BC%95%E7%BB%93%E7%82%B9%E7%9A%84%E5%85%B1%E4%BA%AB%E6%96%B9%E5%BC%8F%EF%BC%88%E7%A1%AC%E9%93%BE%E6%8E%A5%EF%BC%89"><span class="toc-text">（1）基于索引结点的共享方式（硬链接）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%9F%BA%E4%BA%8E%E7%AC%A6%E5%8F%B7%E9%93%BE%E7%9A%84%E5%85%B1%E4%BA%AB%E6%96%B9%E5%BC%8F%EF%BC%88%E8%BD%AF%E9%93%BE%E6%8E%A5%EF%BC%89"><span class="toc-text">（2）基于符号链的共享方式（软链接）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-9-%E6%96%87%E4%BB%B6%E4%BF%9D%E6%8A%A4"><span class="toc-text">4.1_9 文件保护</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%8F%A3%E4%BB%A4%E4%BF%9D%E6%8A%A4"><span class="toc-text">（1）口令保护</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%8A%A0%E5%AF%86%E4%BF%9D%E6%8A%A4"><span class="toc-text">（2）加密保护</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6"><span class="toc-text">（3）访问控制</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-10-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%B1%82%E7%BA%A7%E7%BB%93%E6%9E%84"><span class="toc-text">4.1_10 文件系统的层级结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-1-%E7%A3%81%E7%9B%98%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-text">4.2_1 磁盘的结构</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E7%A3%81%E7%9B%98%EF%BC%8C%E7%A3%81%E9%81%93%EF%BC%8C%E6%89%87%E5%8C%BA"><span class="toc-text">（1）磁盘，磁道，扇区</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%A6%82%E4%BD%95%E5%9C%A8%E7%A3%81%E7%9B%98%E4%B8%AD%E8%AF%BB-x2F-%E5%86%99%E6%95%B0%E6%8D%AE"><span class="toc-text">（2）如何在磁盘中读&#x2F;写数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E7%9B%98%E9%9D%A2%EF%BC%8C%E6%9F%B1%E9%9D%A2"><span class="toc-text">（3）盘面，柱面</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E7%A3%81%E7%9B%98%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-text">（4）磁盘的分类</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-2-%E7%A3%81%E7%9B%98%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="toc-text">4.2_2 磁盘调度算法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E4%B8%80%E6%AC%A1%E7%A3%81%E7%9B%98%E8%AF%BB-x2F-%E5%86%99%E6%93%8D%E4%BD%9C%E9%9C%80%E8%A6%81%E7%9A%84%E6%97%B6%E9%97%B4"><span class="toc-text">（1）一次磁盘读&#x2F;写操作需要的时间</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%85%88%E6%9D%A5%E5%85%88%E6%9C%8D%E5%8A%A1%E7%AE%97%E6%B3%95%EF%BC%88FCFS%EF%BC%89"><span class="toc-text">（2）先来先服务算法（FCFS）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E6%9C%80%E7%9F%AD%E5%AF%BB%E6%89%BE%E6%97%B6%E9%97%B4%E4%BC%98%E5%85%88%EF%BC%88SSTF%EF%BC%89"><span class="toc-text">（3）最短寻找时间优先（SSTF）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E6%89%AB%E6%8F%8F%E7%AE%97%E6%B3%95%EF%BC%88SCAN%EF%BC%89"><span class="toc-text">（4）扫描算法（SCAN）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%885%EF%BC%89LOOK-%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95"><span class="toc-text">（5）LOOK 调度算法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%886%EF%BC%89%E5%BE%AA%E7%8E%AF%E6%89%AB%E6%8F%8F%E7%AE%97%E6%B3%95%EF%BC%88C-SCAN%EF%BC%89"><span class="toc-text">（6）循环扫描算法（C-SCAN）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%887%EF%BC%89C-LOOK-%E7%AE%97%E6%B3%95"><span class="toc-text">（7）C-LOOK 算法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-3-%E5%87%8F%E5%B0%91%E5%BB%B6%E8%BF%9F%E6%97%B6%E9%97%B4%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-text">4.2_3 减少延迟时间的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%87%8F%E5%B0%91%E5%BB%B6%E8%BF%9F%E6%97%B6%E9%97%B4%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%9A%E4%BA%A4%E6%9B%BF%E7%BC%96%E5%8F%B7"><span class="toc-text">（1）减少延迟时间的方法：交替编号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E7%A3%81%E7%9B%98%E5%9C%B0%E5%9D%80%E7%BB%93%E6%9E%84%E8%AE%BE%E8%AE%A1"><span class="toc-text">（2）磁盘地址结构设计</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%87%8F%E5%B0%91%E5%BB%B6%E8%BF%9F%E6%97%B6%E9%97%B4%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%9A%E9%94%99%E4%BD%8D%E5%91%BD%E5%90%8D"><span class="toc-text">（3）减少延迟时间的方法：错位命名</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-4-%E7%A3%81%E7%9B%98%E7%9A%84%E7%AE%A1%E7%90%86"><span class="toc-text">4.2_4 磁盘的管理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E7%A3%81%E7%9B%98%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-text">（1）磁盘初始化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%BC%95%E5%AF%BC%E5%9D%97"><span class="toc-text">（2）引导块</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E5%9D%8F%E5%9D%97%E7%9A%84%E7%AE%A1%E7%90%86"><span class="toc-text">（3）坏块的管理</span></a></li></ol></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer" style="background-image: url('https://edu-cubeonline.oss-cn-chengdu.aliyuncs.com/8338e032aa164b37a69adee487bf10a81.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 廖涛</div><div class="footer_custom_text">©版权说明：本网站所有内容均收集于互联网或自己创作,<br>方便于网友与自己学习交流，如有侵权，请<a href = 'http://taoblog421.cn/messageboard/'>留言</a>，立即处理<br><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/"><span>备案号：陇ICP备2020004464号-1</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main01.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'UdlOld4ASbFChikw4W0qkuA3-gzGzoHsz',
      appKey: 'j7HSw45F6iXY7fRL8jAtFIAC',
      avatar: 'retro',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine() 
  else getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="true" data-text="三民主义,吾党所宗,以建民国,以进大同" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>